<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Undangan Pernikahan</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="preload" href="https://satumomen.com/themes/green-pink/bg.webp" as="image">
  <style>
    :root {
      --bg: #f4dad7;
      --base: #889c7d;
      --accent: #dd787f;
      --max-width: 600px;
      --nav-height: 80px;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      height: 100vh;
      font-family: 'Poppins', sans-serif;
      background: var(--bg);
      color: #333;
      overflow: hidden;
    }
    .container {
      max-width: var(--max-width);
      margin: 0 auto;
      position: relative;
      height: 100vh;
      overflow: hidden;
      box-shadow: 0 0 30px rgba(0,0,0,0.1);
    }
    .slide {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      padding: 60px 20px calc(var(--nav-height) + 20px);
      background: url('https://satumomen.com/themes/green-pink/bg.webp') center/cover no-repeat;
      display: flex;
      flex-direction: column;
      justify-content: center;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease, transform 0.8s ease;
      pointer-events: none;
      overflow-y: auto;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    .slide.active {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
    }
    .font-latin { font-family: 'Great Vibes', cursive; }
    .btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 50px;
      font-family: inherit;
      cursor: pointer;
      margin: 15px 0;
      font-size: 16px;
      font-weight: 500;
    }
    .btn:hover { transform: scale(1.05); }

    /* Frame */
    .frame {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      z-index: 1;
      pointer-events: none;
    }
    .frame img {
      max-width: 100%;
      position: absolute;
      opacity: 0;
      transition: opacity 0.5s ease, transform 3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    .slide.active .frame img {
      opacity: 1;
    }

    /* Animasi Frame */
    .frame-tm {
      top: -100px; left: 50%; transform: translateX(-50%); width: 80%;
      transform: translateX(-50%) translateY(-100px);
    }
    .frame-tl {
      top: -100px; left: 0; width: 30%;
      transform: translateY(-100px);
    }
    .frame-tr {
      top: -100px; right: 0; width: 30%;
      transform: translateY(-100px);
    }
    .frame-bl {
      bottom: calc(var(--nav-height) + 10px); left: 0; width: 30%;
      transform: translateY(100px);
    }
    .frame-br {
      bottom: calc(var(--nav-height) + 10px); right: 0; width: 30%;
      transform: translateY(100px);
    }

    .slide.active .frame-tm,
    .slide.active .frame-tl,
    .slide.active .frame-tr {
      transform: translateX(-50%) translateY(0) !important;
    }
    .slide.active .frame-bl,
    .slide.active .frame-br {
      transform: translateY(0) !important;
    }

    /* Delay Animasi */
    .slide.active .delay-1 { transition-delay: 0.3s; }
    .slide.active .delay-2 { transition-delay: 0.6s; }

    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      max-width: var(--max-width);
      background: rgba(255, 255, 255, 0.9);
      display: flex;
      justify-content: flex-start;
      overflow-x: auto;
      padding: 14px 10px;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.12);
      opacity: 0;
      visibility: hidden;
      transform: translateX(-50%) translateY(20px);
      transition: all 0.4s ease;
      z-index: 1000 !important;
      pointer-events: auto;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    .bottom-nav.visible {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(0);
    }
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 11px;
      color: var(--base);
      text-decoration: none;
      width: 70px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .nav-item.active {
      color: var(--accent);
      font-weight: bold;
      transform: translateY(-6px) scale(1.1);
    }
    .nav-icon {
      width: 26px;
      height: 26px;
      margin-bottom: 4px;
      fill: currentColor;
      transition: transform 0.3s ease;
    }
    .nav-item.active .nav-icon {
      transform: scale(1.2) translateY(-2px);
    }

    /* Konten */
    .content {
      position: relative;
      z-index: 2;
      text-align: center;
    }
    .animate-in {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s ease-out;
    }
    img.animate-in, iframe.animate-in {
      transition: all 3s ease-out;
    }
    .slide.active .animate-in {
      opacity: 1;
      transform: translateY(0);
    }
    .slide.active .animate-in.delay-1 { transition-delay: 0.2s; }
    .slide.active .animate-in.delay-2 { transition-delay: 0.4s; }
    .slide.active .animate-in.delay-3 { transition-delay: 0.6s; }

    /* Countdown */
    .countdown {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin: 25px 0;
    }
    .countdown-item {
      text-align: center;
      background: rgba(255,255,255,0.8);
      padding: 10px;
      border-radius: 12px;
      min-width: 60px;
    }
    .number {
      font-size: 28px;
      font-weight: bold;
      color: var(--accent);
    }
    .text {
      font-size: 13px;
      color: #555;
    }
    iframe {
      width: 100%;
      height: 280px;
      border: none;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- SLIDE 0: Cover -->
    <section class="slide active" id="slide-0">
      <div class="frame">
        <img src="https://satumomen.com/themes/green-pink/tm.webp" class="frame-tm animate-in">
        <img src="https://satumomen.com/themes/green-pink/tl.webp" class="frame-tl animate-in delay-1">
        <img src="https://satumomen.com/themes/green-pink/tr.webp" class="frame-tr animate-in delay-1">
        <img src="https://satumomen.com/themes/green-pink/bl.webp" class="frame-bl animate-in delay-2">
        <img src="https://satumomen.com/themes/green-pink/br.webp" class="frame-br animate-in delay-2">
      </div>
      <div class="content">
        <div class="animate-in" style="font-size:90px;margin:20px 0;">
          <span style="color:var(--accent);display:inline-block;transform:translate(10px,-10px);">S</span>
          <span style="color:var(--accent);display:inline-block;transform:translate(-10px,10px);">A</span>
        </div>
        <div class="animate-in delay-1" style="font-size:48px;font-weight:bold;margin:15px 0;">Stela & Abi</div>
        <div class="animate-in delay-2" style="font-size:18px;color:var(--accent);margin:8px 0;">Save The Date</div>
        <div class="animate-in delay-3" style="font-size:18px;margin:8px 0;">08.12.2024</div>
        <div class="animate-in" style="margin:35px 0;font-size:16px;">Kepada Yth.<br>Bapak/Ibu/Saudara/i</div>
        <div id="guestName" class="animate-in delay-1" style="font-size:20px;font-weight:bold;color:var(--accent);margin:12px 0;">Tamu Undangan</div>
        <button class="btn animate-in delay-2" id="openInvitation">Open Invitation</button>
      </div>
    </section>

    <!-- SEMUA SLIDE LAINNYA (1-7) SAMA, HANYA GANTI KONTEN -->
    <!-- Slide 1 -->
    <section class="slide" id="slide-1">
      <div class="frame">
        <img src="https://satumomen.com/themes/green-pink/tm.webp" class="frame-tm animate-in">
        <img src="https://satumomen.com/themes/green-pink/tl.webp" class="frame-tl animate-in delay-1">
        <img src="https://satumomen.com/themes/green-pink/tr.webp" class="frame-tr animate-in delay-1">
        <img src="https://satumomen.com/themes/green-pink/bl.webp" class="frame-bl animate-in delay-2">
        <img src="https://satumomen.com/themes/green-pink/br.webp" class="frame-br animate-in delay-2">
      </div>
      <div class="content">
        <div class="animate-in" style="font-size:16px;margin:15px 0;">The Wedding Of</div>
        <div class="animate-in delay-1" style="font-size:90px;margin:20px 0;"><span style="color:var(--accent);">S</span><span style="color:var(--accent);">A</span></div>
        <div class="animate-in delay-2" style="font-size:48px;font-weight:bold;">Stela & Abi</div>
        <img src="https://satumomen.com/themes/green-pink/bm.webp" class="animate-in delay-3" style="width:65%;margin-top:35px;">
      </div>
    </section>

    <!-- Slide 2 -->
    <section class="slide" id="slide-2">
      <div class="frame">
        <img src="https://satumomen.com/themes/green-pink/tm.webp" class="frame-tm animate-in">
        <img src="https://satumomen.com/themes/green-pink/tl.webp" class="frame-tl animate-in delay-1">
        <img src="https://satumomen.com/themes/green-pink/tr.webp" class="frame-tr animate-in delay-1">
        <img src="https://satumomen.com/themes/green-pink/bl.webp" class="frame-bl animate-in delay-2">
        <img src="https://satumomen.com/themes/green-pink/br.webp" class="frame-br animate-in delay-2">
      </div>
      <div class="content">
        <div class="animate-in" style="font-style:italic;margin:15px 0;">Bismillahirrahmanirrahim</div>
        <div class="animate-in delay-1" style="margin:25px 0;font-size:16px;line-height:1.8;">
          Dengan memohon Rahmat dan Ridho Allah Subhanahu wa ta'ala kami bermaksud menyelenggarakan Syukuran Pernikahan Putra-Putri kami
        </div>
        <div class="animate-in delay-2" style="margin:25px 0;">
          <div class="font-latin" style="font-size:28px;color:var(--accent);">Mempelai Pria</div>
          <div style="margin:12px 0;font-size:15px;">Anak Pertama dari<br>Bapak Hamdi & Ibu Sri Ningsih</div>
          <a href="https://instagram.com/" target="_blank" class="btn" style="font-size:14px;padding:8px 16px;">@instagram</a>
        </div>
        <div class="animate-in delay-3" style="margin:25px 0;font-style:italic;color:var(--accent);">dengan</div>
        <div class="animate-in" style="margin:25px 0;">
          <div class="font-latin" style="font-size:28px;color:var(--accent);">Mempelai Wanita</div>
          <div style="margin:12px 0;font-size:15px;">Anak Pertama dari<br>Bapak Setiawan & Ibu Wahdah</div>
          <a href="https://instagram.com/" target="_blank" class="btn" style="font-size:14px;padding:8px 16px;">@instagram</a>
        </div>
      </div>
    </section>

    <!-- Slide 3-7: Sama struktur frame, hanya ganti konten -->
    <!-- ... (konten slide 3-7 tetap sama seperti sebelumnya) ... -->
    <!-- Untuk hemat tempat, saya hanya sertakan 1 contoh lagi -->

    <!-- Slide 7 (contoh terakhir) -->
    <section class="slide" id="slide-7">
      <div class="frame">
        <img src="https://satumomen.com/themes/green-pink/tm.webp" class="frame-tm animate-in">
        <img src="https://satumomen.com/themes/green-pink/tl.webp" class="frame-tl animate-in delay-1">
        <img src="https://satumomen.com/themes/green-pink/tr.webp" class="frame-tr animate-in delay-1">
        <img src="https://satumomen.com/themes/green-pink/bl.webp" class="frame-bl animate-in delay-2">
        <img src="https://satumomen.com/themes/green-pink/br.webp" class="frame-br animate-in delay-2">
      </div>
      <div class="content" style="display:flex;flex-direction:column;justify-content:space-between;min-height:100%;padding-top:60px;">
        <div></div>
        <div>
          <div class="animate-in" style="margin:25px 0;font-size:16px;line-height:1.8;">
            Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan do'a restu kepada kedua mempelai.
          </div>
          <div class="animate-in delay-1" style="color:var(--accent);margin:25px 0;font-size:17px;">
            Atas kehadiran dan do'a restunya<br>kami ucapkan terima kasih.
          </div>
          <div class="animate-in delay-2" style="margin:25px 0;font-size:16px;">Yang Berbahagia</div>
          <div class="animate-in delay-3" style="display:flex;gap:35px;justify-content:center;flex-wrap:wrap;">
            <div><div style="text-decoration:underline;font-size:15px;">Keluarga</div><div style="font-weight:bold;font-size:16px;">Bapak H. Roni Nahroni<br>dan Ibu Hj. Siti Zainab</div></div>
            <div><div style="text-decoration:underline;font-size:15px;">Keluarga</div><div style="font-weight:bold;font-size:16px;">Bapak Ir. Juhrani<br>dan Ibu Juniati, S.Km</div></div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Bottom Navigation -->
  <div class="bottom-nav" id="bottomNav">
    <!-- ... (nav item sama seperti sebelumnya) ... -->
    <div class="nav-item" data-slide="1"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg><span>Mempelai</span></div>
    <div class="nav-item" data-slide="2"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 9c2.7 0 5.8 1.29 6 2H6c.23-.72 3.3-2 6-2m0-11C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"/></svg><span>Detail</span></div>
    <div class="nav-item" data-slide="3"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/></svg><span>Acara</span></div>
    <div class="nav-item" data-slide="4"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg><span>Maps</span></div>
    <div class="nav-item" data-slide="5"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></svg><span>RSVP</span></div>
    <div class="nav-item" data-slide="6"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.67a2.997 2.997 0 0 0-5.35 1.33 3 3 0 0 0-2.5 2.82C4 7.31 4 7 4 7H2c-.55 0-1 .45-1 1 0 .27.09.52.25.72l6.07 6.07c.3.3.7.5 1.08.5h9l5.5 5.5c.14.13.33.21.53.21.4 0 .74-.24.88-.6l1.47-4.33c.01-.03.01-.07.01-.1V8c0-.55-.45-1-1-1h-2z"/></svg><span>Gift</span></div>
    <div class="nav-item" data-slide="7"><svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-6.88-.55L12 3 8.88 8.69 2 9.24l5.46 4.73L5.82 21z"/></svg><span>Thanks</span></div>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const to = urlParams.get('to') || 'Tamu Undangan';
    document.getElementById('guestName').textContent = decodeURIComponent(to);

    let currentSlide = 0;
    let isOpen = false;
    const slides = document.querySelectorAll('.slide');
    const navItems = document.querySelectorAll('.nav-item');
    const bottomNav = document.getElementById('bottomNav');
    const openBtn = document.getElementById('openInvitation');

    openBtn.addEventListener('click', () => {
      isOpen = true;
      scrollToSlide(1);
      bottomNav.classList.add('visible');
    });

    navItems.forEach(item => {
      item.addEventListener('click', () => {
        const targetSlide = parseInt(item.dataset.slide, 10);
        scrollToSlide(targetSlide);
      });
    });

    function scrollToSlide(index) {
      if (!isOpen && index !== 0) return;
      if (index < 0 || index >= slides.length) return;

      slides[currentSlide].classList.remove('active');
      navItems.forEach(item => item.classList.remove('active'));

      currentSlide = index;
      slides[currentSlide].classList.add('active');

      if (currentSlide >= 1) {
        const activeNavItem = document.querySelector(`.nav-item[data-slide="${currentSlide}"]`);
        if (activeNavItem) {
          activeNavItem.classList.add('active');
          const scrollTarget = activeNavItem.offsetLeft - (bottomNav.clientWidth / 2) + (activeNavItem.clientWidth / 2);
          bottomNav.scrollTo({ left: Math.max(0, Math.min(scrollTarget, bottomNav.scrollWidth - bottomNav.clientWidth)), behavior: 'smooth' });
        }
      }
    }

    let isScrolling = false;
    function handleScroll(direction) {
      if (isScrolling || !isOpen) return;
      const el = slides[currentSlide];
      const atTop = el.scrollTop === 0;
      const atBottom = Math.ceil(el.scrollHeight - el.scrollTop) <= el.clientHeight + 2;

      let target = currentSlide;
      if (direction > 0 && atBottom && currentSlide < slides.length - 1) target++;
      else if (direction < 0 && atTop && currentSlide > 1) target--;

      if (target !== currentSlide) {
        isScrolling = true;
        setTimeout(() => isScrolling = false, 800);
        scrollToSlide(target);
      }
    }

    window.addEventListener('wheel', e => {
      if (!isOpen) return;
      e.preventDefault();
      const el = slides[currentSlide];
      if (el.scrollHeight > el.clientHeight) {
        const atTop = el.scrollTop === 0;
        const atBottom = Math.ceil(el.scrollHeight - el.scrollTop) >= el.clientHeight - 2;
        if ((e.deltaY > 0 && atBottom) || (e.deltaY < 0 && atTop)) handleScroll(e.deltaY);
        else el.scrollTop += e.deltaY;
      } else handleScroll(e.deltaY);
    }, { passive: false });

    let touchY = 0;
    window.addEventListener('touchstart', e => touchY = e.touches[0].clientY);
    window.addEventListener('touchend', e => {
      const diff = touchY - e.changedTouches[0].clientY;
      if (Math.abs(diff) > 50) handleScroll(diff);
    });

    // Countdown
    const countdownDate = new Date('2025-02-15T10:00:00').getTime();
    setInterval(() => {
      const diff = countdownDate - Date.now();
      if (diff > 0) {
        const d = String(Math.floor(diff / 86400000)).padStart(2, '0');
        const h = String(Math.floor((diff % 86400000) / 3600000)).padStart(2, '0');
        const m = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
        const s = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
        document.querySelectorAll('#countdown .number')[0].textContent = d;
        document.querySelectorAll('#countdown .number')[1].textContent = h;
        document.querySelectorAll('#countdown .number')[2].textContent = m;
        document.querySelectorAll('#countdown .number')[3].textContent = s;
      } else {
        document.querySelector('#countdown').innerHTML = '<div style="grid-column:1/-1;font-size:18px;color:var(--accent);">Acara Telah Dimulai!</div>';
      }
    }, 1000);

    // Smartphone Only
    function isSmartphone() {
      const ua = navigator.userAgent.toLowerCase();
      const mobile = /iphone|android|windows phone|iemobile|mobile/i.test(ua);
      const touch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
      const small = window.innerWidth <= 768;
      return mobile && touch && small;
    }

    window.addEventListener('load', () => {
      if (!isSmartphone()) {
        document.body.innerHTML = `<div style="font-family:'Poppins',sans-serif;text-align:center;padding:60px 20px;background:#f4dad7;color:#333;min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;"><h1 style="font-size:28px;color:#dd787f;margin-bottom:16px;">Maaf!</h1><p style="font-size:18px;max-width:400px;line-height:1.6;">Undangan ini <strong>hanya dapat dibuka di SmartPhone</strong>.<br>Silakan buka menggunakan ponsel Anda.</p><div style="margin-top:30px;"><svg width="80" height="80" viewBox="0 0 24 24" fill="#dd787f"><path d="M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3zm-1 20h-6v-1h6v1zm3.25-3H5.75V4h12.5v14z"/></svg></div></div>`;
        document.documentElement.style.overflow = 'hidden';
      }
    });

    let resizeTimer;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        if (!isSmartphone() && document.body.children.length > 0) location.reload();
      }, 500);
    });
  </script>
</body>
</html>