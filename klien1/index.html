<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Undangan Digital — Master Template</title>

  <!-- FONTS: Handwriting + Plus Jakarta Sans -->
  <!-- Ganti font handwriting jika mau: ex. "Dancing Script", "Great Vibes" -->
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

  <style>
    :root{
      /* ===================== THEME TOKENS (MUDAH DIMODIF) ===================== */
      --font-base: 'Plus Jakarta Sans', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      --font-script: 'Dancing Script', cursive;

      --clr-bg: #0b0f14;              /* background luar (desktop) */
      --clr-primary: #e7d3c9;         /* aksen lembut */
      --clr-accent: #be8b6a;          /* aksen utama (judul/cta) */
      --clr-card: rgba(255,255,255,.15); /* card translucent */
      --clr-card-header: rgba(255,255,255,.35);
      --clr-text: #f3f3f3;
      --clr-muted: #dcdcdc;
      --clr-link: #ffd7b3;

      --radius-lg: 18px;
      --radius-sm: 12px;
      --shadow-lg: 0 12px 30px rgba(0,0,0,.35);
      --shadow-md: 0 6px 16px rgba(0,0,0,.25);

      /* Ukuran canvas smartphone */
      --phone-w: 390px; /* referensi iPhone 12/13/14 */
      --phone-h: calc(var(--phone-w) * 16 / 9); /* 9:16 */

      /* Spasi */
      --pad: 16px;
      --gap: 12px;

      /* Durasi animasi */
      --fade-time: .7s;
      --slide-time: .9s;
    }

    /* ===================== RESET RINGAN ===================== */
    *{ box-sizing: border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      background: var(--clr-bg);
      color: var(--clr-text);
      font-family: var(--font-base);
      line-height: 1.5;
      overflow: hidden; /* biar fokus ke "phone" dan canvas */
    }
    a{ color: var(--clr-link); text-decoration: none; }
    img{ display:block; max-width:100%; height:auto; }

    /* ===================== DESKTOP LAYOUT: PHONE + SIDE IMAGE ===================== */
    .stage{
      position: fixed;
      inset: 0;
      display: grid;
      grid-template-columns: 1fr minmax(340px, var(--phone-w));
      align-items: center;
      gap: 24px;
      padding: 24px;
    }
    .side-hero{
      width: 100%;
      height: calc(100vh - 48px);
      border-radius: var(--radius-lg);
      background: url('https://picsum.photos/1200/900?random=90') center/cover no-repeat;
      box-shadow: var(--shadow-lg);
    }
    .phone-wrap{
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* FRAME SMARTPHONE */
    .phone{
      width: var(--phone-w);
      height: var(--phone-h);
      background: #111;
      border-radius: 34px;
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      position: relative;
      border: 8px solid #000; /* bingkai phone */
      isolation: isolate;
    }

    /* ===================== APP VIEWPORT (SCROLL DI DALAM) ===================== */
    .app{
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      background: #000; /* fallback */
    }

    /* ===================== SECTIONS 9:16 FULL ===================== */
    .sections{
      position: relative;
      flex: 1 1 auto;
      overflow-y: auto;
      scroll-snap-type: y mandatory; /* swipe per section */
      scroll-behavior: smooth;
    }
    .section {
        position: relative;
        width: 100%;
        /* Ubah height dan min-height agar section menyesuaikan konten */
        height: auto;
        min-height: 100%;
        scroll-snap-align: start;
        background: #222 center/cover no-repeat;
        display: grid;
        place-items: center;
        padding: var(--pad); /* Sudah sesuai, biarkan untuk jarak kecil dari tepi */
    }
    .section::after{
      /* overlay gelap tipis agar teks kebaca */
      content: '';
      position: absolute; inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,.25));
      pointer-events: none;
    }

    /* ===================== WELCOME PAGE ===================== */
    .welcome-overlay{
      position: absolute; inset: 0;
      display: grid;
      grid-template-rows: 1fr auto auto auto 1fr;
      z-index: 2;
      padding: calc(var(--pad) * 2);
      background: linear-gradient(to bottom, rgba(0,0,0,.15), rgba(0,0,0,.7));
    }
    .welcome-names{
      font-family: var(--font-script);
      font-size: 42px;
      justify-self: center;
      text-shadow: 0 2px 10px rgba(0,0,0,.4);
      animation: fadeInUp var(--slide-time) both .2s;
    }
    .welcome-guest{
      align-self: end;
      justify-self: center;
      font-size: 14px;
      color: var(--clr-muted);
      background: rgba(0,0,0,.35);
      padding: 8px 12px;
      border-radius: 999px;
      backdrop-filter: blur(2px);
      animation: fadeIn var(--fade-time) both .3s;
    }
    .welcome-date{
      justify-self: center;
      margin-top: 6px;
      font-weight: 600;
      letter-spacing: .4px;
      animation: fadeIn var(--fade-time) both .35s;
    }

    .envelope{
      justify-self: center;
      width: 96px; height: 72px;
      position: relative;
      margin-top: 8px;
      animation: floatY 3s ease-in-out infinite;
      filter: drop-shadow(0 8px 16px rgba(0,0,0,.35));
    }
    .envelope svg{ width: 100%; height: 100%; display: block; }

    .welcome-cta{
      align-self: start;
      justify-self: center;
      margin-top: 10px;
      animation: fadeInUp var(--slide-time) both .45s;
    }
    .btn{
      appearance: none;
      border: none;
      border-radius: 12px;
      padding: 12px 18px;
      font-weight: 700;
      letter-spacing: .3px;
      cursor: pointer;
      background: linear-gradient(135deg, var(--clr-accent), #8d5e44);
      color: #fff;
      box-shadow: var(--shadow-md);
      transition: transform .15s ease, box-shadow .2s ease, opacity .25s ease;
    }
    .btn:active{ transform: translateY(1px) scale(.99); box-shadow: 0 4px 10px rgba(0,0,0,.25); }

    /* ===================== HOME HEADER (mirip welcome) ===================== */
    .home-header{
      position: absolute;
      left: 0; right: 0; bottom: 0;
      padding: 24px;
      z-index: 1;
      background: linear-gradient(to top, rgba(0,0,0,.65), rgba(0,0,0,0));
    }
    .home-title{
      font-family: var(--font-script);
      font-size: 36px;
      line-height: 1.1;
      margin: 0 0 6px;
      animation: fadeInUp var(--slide-time) both;
    }
    .home-sub{
      margin: 0;
      color: var(--clr-muted);
      font-size: 13px;
      animation: fadeIn var(--fade-time) both .1s;
    }

    /* ===================== CARD GENERIC ===================== */
    .card {
        background: var(--clr-card);
        border: 1px solid rgba(255,255,255,.08);
        box-shadow: var(--shadow-md);
        border-radius: var(--radius-lg);
        backdrop-filter: blur(6px);
        /* overflow: hidden; <-- Biarkan untuk mencegah konten keluar card */
        animation: fadeIn var(--fade-time) both;
        position: relative;
        z-index: 1;
        max-width: 90%;
        width: 100%;
        height: auto;
        /* Tambahkan max-height agar card tidak melebihi section */
        max-height: calc(100vh - (var(--pad) * 2) - 48px); /* 48px untuk navbar dan margin */
        overflow-y: auto; /* Aktifkan scroll jika konten melebihi */
        margin: 8px 0;
    }
    .card-header{
      background: var(--clr-card-header);
      padding: 12px 14px;
      font-weight: 700;
      letter-spacing: .4px;
    }
    .card-body{
      padding: 14px;
      /* max-height: 45vh; /* kalau konten kepanjangan, body scroll */
      /* overflow-y: auto; */
    }

    /* ===================== GRIDS & MEDIA ===================== */
    .grid-2{
      display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
    }
    .avatar{
      width: 100%;
      aspect-ratio: 1/1;
      border-radius: 12px;
      object-fit: cover;
    }
    .gallery{
      display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px;
    }
    .gallery img{
      width: 100%; aspect-ratio: 1/1; object-fit: cover; border-radius: 8px;
      cursor: zoom-in; transition: transform .2s ease;
    }
    .gallery img:hover{ transform: scale(1.02); }

    /* Lightbox minimal */
    .lightbox{
      position: fixed; inset: 0; background: rgba(0,0,0,.85);
      display: none; place-items: center; z-index: 99;
    }
    .lightbox img{ max-width: 90vw; max-height: 85vh; border-radius: 12px; }

    /* ===================== NAVBAR ===================== */
    .navbar{
      position: sticky; bottom: 0; left: 0; right: 0;
      z-index: 5;
      margin: 0 12px 12px;
      background: rgba(20,20,20,.75);
      border: 1px solid rgba(255,255,255,.08);
      backdrop-filter: blur(8px);
      border-radius: 16px;
      display: grid; grid-template-columns: repeat(4, 1fr);
      gap: 6px; padding: 8px;
      box-shadow: var(--shadow-md);
    }
    .nav-btn{
      display: grid; place-items: center;
      gap: 6px; padding: 8px 6px;
      border-radius: 12px;
      color: var(--clr-muted);
      font-size: 11px;
      cursor: pointer;
      transition: background .2s ease, color .2s ease;
      text-align: center;
    }
    .nav-btn.active, .nav-btn:hover{
      background: rgba(255,255,255,.08);
      color: #fff;
    }
    .nav-icon{ width: 22px; height: 22px; }

    /* ===================== FOOTER ===================== */
    .footer{
      position: sticky;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 4;
      padding: 12px;
      background: rgba(0,0,0,.65);
      text-align: center;
      font-size: 12px;
      color: var(--clr-muted);
    }

    /* ===================== MUSIC BUTTON (FLOAT) ===================== */
    .music-fab{
      position: absolute; top: 12px; right: 12px; z-index: 6;
      width: 38px; height: 38px; border-radius: 999px;
      display: grid; place-items: center;
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.12);
      cursor: pointer;
      backdrop-filter: blur(6px);
      transition: transform .2s ease, background .2s ease;
    }
    .music-fab:hover{ transform: scale(1.03); background: rgba(0,0,0,.7); }
    .music-fab svg{ width: 18px; height: 18px; fill: #fff; }

    /* ===================== ANIMATIONS ===================== */
    @keyframes fadeIn{ from{ opacity: 0; transform: translateY(6px);} to{ opacity:1; transform:none; } }
    @keyframes fadeInUp{ from{ opacity:0; transform: translateY(14px);} to{ opacity:1; transform:none; } }
    @keyframes floatY{ 0%,100%{ transform: translateY(0);} 50%{ transform: translateY(-8px);} }

    .fade-in{ opacity:0; transform: translateY(10px); }
    .fade-in.appear{ opacity:1; transform:none; transition: all var(--fade-time) ease; }

    /* ===================== MOBILE (Jika dibuka di HP asli) ===================== */
    @media (max-width: 900px){
      .stage{
        padding: 0;
        grid-template-columns: 1fr;
      }
      .side-hero{ display: none; }
      .phone-wrap{ height: 100dvh; }
      .phone{
        width: 100%;
        height: 100%;
        border-radius: 0;
        border: none;
      }
    }

    .section video {
      position: absolute;
      inset: 0; /* sama dengan top:0; right:0; bottom:0; left:0; */
      width: 100%;
      height: 100%;
      object-fit: cover; /* crop agar full tanpa distort */
      z-index: -1; /* di belakang konten */
    }
  </style>
</head>
<body>
  <div class="stage">
    <div class="side-hero" aria-hidden="true"></div>

    <div class="phone-wrap">
      <div class="phone">
        <!-- tombol musik global -->
        <button class="music-fab" id="musicToggle" title="Putar/Jeda musik" aria-label="Music toggle">
          <!-- icon play default -->
          <svg id="iconPlay" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          <svg id="iconPause" viewBox="0 0 24 24" style="display:none"><path d="M6 5h4v14H6zM14 5h4v14h-4z"/></svg>
        </button>
        <audio id="bgm" loop preload="auto">
          <!-- Ganti dengan lagu kamu (mp3). Autoplay dipicu saat tombol "Buka Undangan" di-klik -->
          <source src="https://cdn.pixabay.com/download/audio/2022/10/24/audio_ae7e2f03d4.mp3?filename=romantic-wedding-123144.mp3" type="audio/mpeg">
        </audio>

        <div class="app">

          <div class="sections" id="sections">
            

            <!-- ===================== SECTION: WELCOME ===================== -->
            <section class="section" id="welcome"
              style="background-image:url('https://picsum.photos/720/1280?random=10')">
              <div class="welcome-overlay">
                <div></div>
                <h1 class="welcome-names">Alya &amp; Fajar</h1>
                <div class="welcome-guest" id="guestName">
                  Kepada YTH. Bapak/Ibu/Saudara(i) Tamu Undangan
                </div>
                <div class="envelope" aria-hidden="true">
                  <!-- Amplop sederhana -->
                  <svg viewBox="0 0 128 96">
                    <rect x="8" y="16" width="112" height="64" rx="8" fill="#f4e6dc"/>
                    <path d="M8 24L64 62L120 24" fill="none" stroke="#caa990" stroke-width="6" stroke-linecap="round"/>
                    <path d="M8 24L64 56L120 24V16H8z" fill="#e9d3c6"/>
                  </svg>
                </div>
                <button class="welcome-cta btn" id="openInvitation">Buka Undangan</button>
                <div></div>
              </div>
            </section>

            <!-- ===================== SECTION: HOME ===================== -->
                    <!-- SECTION: HOME -->
            <section class="section" id="home">
                <!-- Tambahkan video di sini -->
                <video autoplay loop muted playsinline>
                    <source src="https://example.com/your-video.mp4" type="video/mp4">
                    <!-- Fallback jika browser nggak support: Your browser does not support the video tag. -->
                </video>
                <div class="home-header">
                    <h2 class="home-title">Alya &amp; Fajar</h2>
                    <p class="home-sub">Sabtu, 25 Januari 2026 • Bandung</p>
                </div>
            </section>

            <!-- ===================== SECTION: INFORMASI SINGKAT (1 CARD) ===================== -->
            <section class="section" id="info-singkat"
              style="background-image:url('https://picsum.photos/720/1280?random=23')">
              <article class="card fade-in">
                <div class="card-header">Informasi Singkat</div>
                <div class="card-body">
                  <p>Dengan memohon rahmat Allah SWT, kami bermaksud menyelenggarakan pernikahan:</p>
                  <ul>
                    <li><strong>Akad:</strong> 09.00 WIB</li>
                    <li><strong>Resepsi:</strong> 11.00 – 14.00 WIB</li>
                    <li><strong>Lokasi:</strong> The Lodge, Bandung</li>
                  </ul>
                </div>
              </article>
            </section>

            <!-- ===================== SECTION: QUOTE (1 CARD) ===================== -->
            <section class="section" id="quote"
              style="background-image:url('https://picsum.photos/720/1280?random=24')">
              <article class="card fade-in">
                <div class="card-header">Quote</div>
                <div class="card-body">
                  <em>“Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu pasangan
                    dari jenismu sendiri, supaya kamu cenderung dan merasa tenteram kepadanya…” (QS. Ar-Rum: 21)</em>
                </div>
              </article>
            </section>

            <!-- ===================== SECTION: MEMPELAI (1 CARD) ===================== -->
            <section class="section" id="mempelai"
              style="background-image:url('https://picsum.photos/720/1280?random=33')">
              <article class="card fade-in">
                <div class="card-header">Mempelai</div>
                <div class="card-body">
                  <div class="grid-2">
                    <div>
                      <img class="avatar" src="https://picsum.photos/600/600?random=101" alt="Foto Mempelai Wanita">
                      <h3 style="margin:.6rem 0 .2rem; font-family:var(--font-script); font-size:28px;">Alya Rahma</h3>
                      <p>Putri dari Bpk. Rudi &amp; Ibu Siti</p>
                    </div>
                    <div>
                      <img class="avatar" src="https://picsum.photos/600/600?random=102" alt="Foto Mempelai Pria">
                      <h3 style="margin:.6rem 0 .2rem; font-family:var(--font-script); font-size:28px;">Fajar Pratama</h3>
                      <p>Putra dari Bpk. Ahmad &amp; Ibu Lina</p>
                    </div>
                  </div>
                </div>
              </article>
            </section>

            <!-- ===================== SECTION: LOVE STORY (1 CARD) ===================== -->
            <section class="section" id="love-story"
              style="background-image:url('https://picsum.photos/720/1280?random=34')">
              <article class="card fade-in">
                <div class="card-header">Love Story</div>
                <div class="card-body">
                  <ol>
                    <li><strong>2018 – Bertemu:</strong> Satu kantor, beda divisi.</li>
                    <li><strong>2020 – Komitmen:</strong> Mulai serius setelah lulus S2.</li>
                    <li><strong>2025 – Lamaran:</strong> 14 Mei 2025, disaksikan keluarga.</li>
                  </ol>
                </div>
              </article>
            </section>

            <!-- ===================== SECTION: DETAIL ACARA (1 CARD) ===================== -->
            <section class="section" id="acara"
              style="background-image:url('https://picsum.photos/720/1280?random=44')">
              <article class="card fade-in">
                <div class="card-header">Detail Acara</div>
                <div class="card-body">
                  <ul>
                    <li><strong>Tanggal:</strong> Sabtu, 25 Januari 2026</li>
                    <li><strong>Akad:</strong> 09.00 WIB</li>
                    <li><strong>Resepsi:</strong> 11.00 – 14.00 WIB</li>
                    <li><strong>Alamat:</strong> The Lodge, Jl. Raya Maribaya No. 149, Bandung</li>
                  </ul>
                </div>
              </article>
            </section>

            <!-- ===================== SECTION: LOKASI MAPS (1 CARD) ===================== -->
            <section class="section" id="lokasi"
              style="background-image:url('https://picsum.photos/720/1280?random=45')">
              <article class="card fade-in">
                <div class="card-header">Lokasi (Maps)</div>
                <div class="card-body">
                  <!-- GANTI src EMBED MAP KE ALAMAT ANDA -->
                  <div style="position:relative; width:100%; padding-top:56.25%; border-radius:12px; overflow:hidden;">
                    <iframe title="Google Maps"
                      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d63335.09367912216!2d107.612!3d-6.903!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e68e7b6f12b0a3b%3A0x401576d14fed610!2sBandung!5e0!3m2!1sen!2sid!4v1700000000000"
                      style="position:absolute; inset:0; border:0;" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                  </div>
                  <p style="margin-top:10px"><a class="btn" href="https://maps.google.com?q=The+Lodge+Bandung" target="_blank" rel="noopener">Buka di Google Maps</a></p>
                </div>
              </article>
            </section>

            <!-- ===================== SECTION: GALERI (1 CARD) ===================== -->
            <section class="section" id="galeri"
              style="background-image:url('https://picsum.photos/720/1280?random=55')">
              <article class="card fade-in">
                <div class="card-header">Galeri</div>
                <div class="card-body">
                  <div class="gallery" id="gallery">
                    <!-- Ganti dengan foto-foto anda -->
                    <img src="https://picsum.photos/500/500?random=1" alt="foto 1">
                    <img src="https://picsum.photos/500/500?random=2" alt="foto 2">
                    <img src="https://picsum.photos/500/500?random=3" alt="foto 3">
                    <img src="https://picsum.photos/500/500?random=4" alt="foto 4">
                    <img src="https://picsum.photos/500/500?random=5" alt="foto 5">
                    <img src="https://picsum.photos/500/500?random=6" alt="foto 6">
                    <img src="https://picsum.photos/500/500?random=7" alt="foto 7">
                    <img src="https://picsum.photos/500/500?random=8" alt="foto 8">
                    <img src="https://picsum.photos/500/500?random=9" alt="foto 9">
                  </div>
                </div>
              </article>
            </section>

            <!-- ===================== SECTION: GIFT & RSVP (1 CARD) ===================== -->
            <section class="section" id="gift"
              style="background-image:url('https://picsum.photos/720/1280?random=66')">
              <article class="card fade-in">
                <div class="card-header">Online Gift &amp; RSVP</div>
                <div class="card-body">
                  <p>Terima kasih atas doa dan kehadirannya. Bagi yang berkenan memberikan tanda kasih, berikut rekening:</p>
                  <ul>
                    <li><strong>BCA</strong> 123456789 a.n. Alya Rahma
                      <button class="btn" data-copy="BCA 123456789 a.n. Alya Rahma" style="margin-left:8px">Salin</button>
                    </li>
                    <li><strong>QRIS</strong> (scan pada gambar di bawah)
                      <button class="btn" data-copy="QRIS Alya & Fajar">Salin</button>
                    </li>
                  </ul>
                  <img src="https://picsum.photos/600/800?random=77" alt="QRIS" style="width:60%; margin:12px auto; border-radius:12px">
                  <hr style="border-color:rgba(255,255,255,.15)">
                </div>
              </article>
            </section>

            <!-- ===================== SECTION: DOA (1 CARD) ===================== -->
            <section class="section" id="doa"
              style="background-image:url('https://picsum.photos/720/1280?random=77')">
              <article class="card fade-in">
                <div class="card-header">Doa &amp; Harapan</div>
                <div class="card-body">
                  <p style="font-style: italic;">Semoga Allah SWT senantiasa melimpahkan rahmat, keberkahan, dan kasih sayang kepada kami dalam membina rumah tangga. Aamiin.</p>
                </div>
              </article>
            </section>

            <!-- ===================== SECTION: PENUTUP (1 CARD) ===================== -->
            <section class="section" id="penutup"
              style="background-image:url('https://picsum.photos/720/1280?random=88')">
              <article class="card fade-in">
                <div class="card-header">Penutup</div>
                <div class="card-body">
                  <p>Merupakan kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara(i) berkenan hadir memberikan doa restu.</p>
                  <p>Terima kasih.</p>
                </div>
              </article>
            </section>

          </div><!-- /sections -->

          <!-- NAVBAR GLOBAL (STICKY) -->
          <nav class="navbar">
            <div class="nav-btn active" data-target="#home" title="Home">
              <svg class="nav-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3l9 8h-3v9h-12v-9h-3z"/></svg>
              Home
            </div>
            <div class="nav-btn" data-target="#mempelai" title="Mempelai">
              <svg class="nav-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M16 11c1.66 0 2.99-1.79 2.99-4S17.66 3 16 3s-3 1.79-3 4 1.34 4 3 4zM8 11c1.66 0 2.99-1.79 2.99-4S9.66 3 8 3 5 4.79 5 7s1.34 4 3 4zm0 2c-2.33 0-7 1.17-7 3.5V20h14v-3.5C15 14.17 10.33 13 8 13zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.95 1.97 3.45V20h7v-3.5c0-2.33-4.67-3.5-8-3.5z"/></svg>
              Mempelai
            </div>
            <div class="nav-btn" data-target="#galeri" title="Galeri">
              <svg class="nav-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M21 19V5c0-1.1-.9-2-2-2H5C3.9 3 3 3.9 3 5v14h18zM5 5h14v9l-3-3-4 4-2-2-5 5V5z"/></svg>
              Galeri
            </div>
            <div class="nav-btn" data-target="#gift" title="Gift">
              <svg class="nav-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M20 7h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.97.54-2.5 1.35C10.97 3.54 10.05 3 9 3 7.34 3 6 4.34 6 6c0 .35.07.69.18 1H4c-1.1 0-2 .9-2 2v3h20V9c0-1.1-.9-2-2-2zM9 5c.55 0 1 .45 1 1v1H8V6c0-.55.45-1 1-1zm6 0c.55 0 1 .45 1 1v1h-2V6c0-.55.45-1 1-1zM2 14v5c0 1.1.9 2 2 2h7v-7H2zm11 7h7c1.1 0 2-.9 2-2v-5h-9v7z"/></svg>
              Gift
            </div>
          </nav>

          <!-- FOOTER GLOBAL -->
          <footer class="footer">
            <p><strong>Built with love</strong> ❤️</p>
            <p style="display:flex; gap:12px; justify-content:center; align-items:center; flex-wrap:wrap;">
              <!-- Media sosial -->
              <a href="https://www.tiktok.com/@addakwa" target="_blank" rel="noopener" aria-label="TikTok">
                <svg width="26" height="26" viewBox="0 0 24 24" fill="currentColor"><path d="M12.9 2h3.1c.2 1.2.8 2.3 1.7 3.2s2 1.5 3.2 1.7v3.2c-1.7 0-3.3-.5-4.7-1.5v6.9c0 3.7-3 6.7-6.7 6.7S3.8 19.4 3.8 15.7c0-3.7 3-6.7 6.7-6.7.4 0 .8 0 1.2.1v3.4c-.4-.1-.8-.2-1.2-.2-1.8 0-3.3 1.5-3.3 3.3S8.7 19 10.5 19s3.3-1.5 3.3-3.3V2z"/></svg>
              </a>
              <a href="https://instagram.com/addakwa" target="_blank" rel="noopener" aria-label="Instagram">
                <svg width="26" height="26" viewBox="0 0 24 24" fill="currentColor"><path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm0 2h10c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3zm5 3.5A5.5 5.5 0 106.5 13 5.51 5.51 0 0012 7.5zm0 2A3.5 3.5 0 118.5 13 3.5 3.5 0 0112 9.5zm5.25-2.75a1 1 0 11-1 1 1 1 0 011-1z"/></svg>
              </a>
              <a href="https://x.com/addakwa" target="_blank" rel="noopener" aria-label="X">
                <svg width="26" height="26" viewBox="0 0 24 24" fill="currentColor"><path d="M17.5 3h3.1l-6.8 7.8L22 21h-5.9l-4.6-5.9-5.3 5.9H3.1l7.3-8.2L2 3h6.1l4.2 5.5L17.5 3z"/></svg>
              </a>
            </p>
          </footer>

        </div><!-- /app -->
      </div><!-- /phone -->
    </div><!-- /phone-wrap -->
  </div><!-- /stage -->

  <!-- LIGHTBOX -->
  <div class="lightbox" id="lightbox"><img alt="preview"></div>

  <script>
    /* ===================== UTIL: query param ?to= ===================== */
    (function(){
      const params = new URLSearchParams(window.location.search);
      const to = params.get('to');
      const el = document.getElementById('guestName');
      if(to){
        // decode + kapitalisasi ringan
        const name = decodeURIComponent(to.replace(/\+/g,' ')).trim();
        el.textContent = "Kepada YTH. Bapak/Ibu/Saudara(i) " + name;
      }
    })();

    /* ===================== OPEN INVITATION: scroll ke HOME + putar musik ===================== */
    const openBtn = document.getElementById('openInvitation');
    const sections = document.getElementById('sections');
    openBtn.addEventListener('click', async () => {
      document.querySelector('[data-target="#home"]')?.classList.add('active');
      document.querySelectorAll('.nav-btn').forEach(b=>{ if(b.dataset.target!="#home") b.classList.remove('active'); });
      document.getElementById('home').scrollIntoView({behavior:'smooth'});

      // Mulai musik (autoplay diizinkan setelah user gesture)
      toggleMusic(true);
    });

    /* ===================== NAVBAR: smooth scroll ke section ===================== */
    document.querySelectorAll('.nav-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const sel = btn.getAttribute('data-target');
        if(!sel) return;
        document.querySelector(sel)?.scrollIntoView({behavior:'smooth'});
        document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
      });
    });

    /* ===================== INTERSECTION OBSERVER: Fade-in tiap item ===================== */
    const observer = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){ e.target.classList.add('appear'); observer.unobserve(e.target); }
      });
    },{ root: sections, threshold:.12 });

    document.querySelectorAll('.fade-in').forEach(el=>observer.observe(el));

    /* ===================== LIGHTBOX GALERY ===================== */
    const lb = document.getElementById('lightbox');
    const lbImg = lb.querySelector('img');
    document.getElementById('gallery')?.addEventListener('click', (e)=>{
      const t = e.target;
      if(t.tagName === 'IMG'){
        lbImg.src = t.src.replace('/500/500', '/1200/1200'); // perbesar
        lb.style.display = 'grid';
      }
    });
    lb.addEventListener('click', ()=>{ lb.style.display='none'; lbImg.removeAttribute('src'); });

    /* ===================== COPY TO CLIPBOARD (Gift) ===================== */
    document.querySelectorAll('[data-copy]').forEach(btn=>{
      btn.addEventListener('click', async ()=>{
        try{
          await navigator.clipboard.writeText(btn.getAttribute('data-copy'));
          btn.textContent = 'Tersalin!';
          setTimeout(()=> btn.textContent='Salin', 1200);
        }catch(e){ alert('Gagal menyalin.'); }
      });
    });

    /* ===================== MUSIC CONTROL ===================== */
    const audio = document.getElementById('bgm');
    const musicToggle = document.getElementById('musicToggle');
    const iconPlay = document.getElementById('iconPlay');
    const iconPause = document.getElementById('iconPause');

    function toggleMusic(forcePlay){
      if(forcePlay === true){ audio.play?.(); }
      else if(forcePlay === false){ audio.pause?.(); }
      else { audio.paused ? audio.play?.() : audio.pause?.(); }

      // sinkron ikon
      setTimeout(()=>{
        if(audio.paused){
          iconPlay.style.display='block'; iconPause.style.display='none';
        }else{
          iconPlay.style.display='none'; iconPause.style.display='block';
        }
      }, 50);
    }
    musicToggle.addEventListener('click', ()=> toggleMusic());

    // jaga state ikon saat user menekan hardware play/pause
    audio.addEventListener('play', ()=>{ iconPlay.style.display='none'; iconPause.style.display='block'; });
    audio.addEventListener('pause', ()=>{ iconPlay.style.display='block'; iconPause.style.display='none'; });

    /* ===================== ACTIVE NAV AUTO (saat scroll per section) ===================== */
    const secEls = Array.from(document.querySelectorAll('.section'));
    const activeObs = new IntersectionObserver((entries)=>{
      const visible = entries.filter(e=>e.isIntersecting).sort((a,b)=> b.intersectionRatio - a.intersectionRatio)[0];
      if(!visible) return;
      const id = '#'+visible.target.id;
      document.querySelectorAll('.nav-btn').forEach(b=> b.classList.toggle('active', b.dataset.target===id));
    },{ root: sections, threshold: .6 });
    secEls.forEach(s=> activeObs.observe(s));

  </script>
</body>
</html>